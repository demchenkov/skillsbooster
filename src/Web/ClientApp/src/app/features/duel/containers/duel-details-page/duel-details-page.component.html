<div class="loading-shade" *ngIf="loading$ | async; else data">
  <mat-spinner></mat-spinner>
</div>

<ng-template #data>
  <div class="container">
    <div class="row mat-elevation-z4">
      <mat-tab-group class="w-100">
        <mat-tab>
          <ng-template mat-tab-label>
            <mat-icon>domain_verification</mat-icon>
            Details
          </ng-template>
          <sb-duel-details *ngIf="duel$ | async as duel"
                                [title]="duel.title"
                                [startDate]="duel.startDate"
                                [finishDate]="duel.finishDate"
          ></sb-duel-details>
        </mat-tab>
        <mat-tab>
          <ng-template mat-tab-label>
            <mat-icon>pending_actions</mat-icon>
            Tasks
          </ng-template>
          <sb-duel-tasks [tasks]="tasks$ | async"
          ></sb-duel-tasks>
        </mat-tab>

        <mat-tab>
          <ng-template mat-tab-label>
            <mat-icon>people</mat-icon>
            Ranking
          </ng-template>
          <sb-duel-participants  [taskList]="tasks$ | async"
                                  [ranking]="ranking$ | async"
          ></sb-duel-participants>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</ng-template>
