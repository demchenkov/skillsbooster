<div class="loading-shade" *ngIf="loading">
  <mat-spinner></mat-spinner>
</div>


<div class="table-container" [hidden]="loading">
  <mat-table [dataSource]="ranking.items" style="height: calc(100% - 59px);" matSort>

    <!-- Rank Column -->
    <ng-container matColumnDef="rank">
      <mat-header-cell *matHeaderCellDef  class="rank-column">Rank</mat-header-cell>
      <mat-cell *matCellDef="let row" class="rank-column">{{row.rank}}</mat-cell>
    </ng-container>

    <!-- Title Column -->
    <ng-container matColumnDef="title">
      <mat-header-cell *matHeaderCellDef><span class="mx-2">Title</span></mat-header-cell>
      <mat-cell *matCellDef="let row; let i = index">
        <span class="mx-1">{{row.title}}</span>
        <ng-container *ngIf="i < 3" [ngSwitch]="i">
          <mat-icon class="gold" *ngSwitchCase="0">emoji_events</mat-icon>
          <mat-icon class="silver" *ngSwitchCase="1">emoji_events</mat-icon>
          <mat-icon class="bronze" *ngSwitchCase="2">emoji_events</mat-icon>
        </ng-container>
      </mat-cell>
    </ng-container>

    <!-- Leader Column -->
    <ng-container matColumnDef="leader">
      <mat-header-cell *matHeaderCellDef>Leader</mat-header-cell>
      <mat-cell  *matCellDef="let row">
        {{row.leader}}
      </mat-cell>
    </ng-container>

    <!-- Total Score Column -->
    <ng-container matColumnDef="totalScore">
      <mat-header-cell *matHeaderCellDef>Total Score</mat-header-cell>
      <mat-cell  *matCellDef="let row">
        {{row.totalScore}}
      </mat-cell>
    </ng-container>

    <mat-header-row  *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
  </mat-table>
  <mat-paginator [length]="ranking.totalCount" [pageSize]="10"></mat-paginator>
</div>
